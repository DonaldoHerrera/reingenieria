package com.soundcloud.android.collection;

import com.soundcloud.android.collection.playhistory.Z;
import com.soundcloud.android.collection.recentlyplayed.C2804ca;
import com.soundcloud.android.collection.recentlyplayed.J;
import com.soundcloud.android.collections.data.K;
import com.soundcloud.android.likes.C3989m;
import com.soundcloud.android.sync.ia;
import com.soundcloud.android.tracks.C6185ma;
import java.util.List;

@EVa(d1 = {"\u0000\u0001\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010 \n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0010\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\b\u0016\u0018\u0000 42\u00020\u0001:\u00014Ba\b\u0001\u0012\u0006\u0010\u0002\u001a\u00020\u0003\u0012\u0006\u0010\u0004\u001a\u00020\u0005\u0012\u0006\u0010\u0006\u001a\u00020\u0007\u0012\u0006\u0010\b\u001a\u00020\t\u0012\u0006\u0010\n\u001a\u00020\u000b\u0012\u0006\u0010\f\u001a\u00020\r\u0012\u0006\u0010\u000e\u001a\u00020\u000f\u0012\u0006\u0010\u0010\u001a\u00020\u0011\u0012\u0006\u0010\u0012\u001a\u00020\u0013\u0012\u0006\u0010\u0014\u001a\u00020\u0015\u0012\b\b\u0001\u0010\u0016\u001a\u00020\u0017¢\u0006\u0002\u0010\u0018J\u000e\u0010\u0019\u001a\b\u0012\u0004\u0012\u00020\u001b0\u001aH\u0016J\"\u0010\u001c\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u001e0\u001d0\u001a2\f\u0010\u001f\u001a\b\u0012\u0004\u0012\u00020!0 H\u0012J.\u0010\"\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020#0\u001d0\u001a2\u0018\u0010$\u001a\u0014\u0012\u0010\u0012\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020#0\u001d0 0%H\u0012J.\u0010&\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020'0\u001d0\u001a2\u0018\u0010(\u001a\u0014\u0012\u0010\u0012\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020'0\u001d0\u001a0%H\u0012J.\u0010)\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020*0\u001d0\u001a2\u0018\u0010+\u001a\u0014\u0012\u0010\u0012\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020*0\u001d0\u001a0%H\u0012J\u0014\u0010,\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u001e0\u001d0\u001aH\u0016J\u000e\u0010-\u001a\b\u0012\u0004\u0012\u00020\u001b0\u001aH\u0016J\u001e\u0010.\u001a\b\u0012\u0004\u0012\u00020/0\u001a\"\u0004\b\u0000\u00100*\b\u0012\u0004\u0012\u0002H00\u001aH\u0016J\u0014\u00101\u001a\n 2*\u0004\u0018\u00010\u001e0\u001e*\u000203H\u0016R\u000e\u0010\u0014\u001a\u00020\u0015X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0004\u001a\u00020\u0005X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0002\u001a\u00020\u0003X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0012\u001a\u00020\u0013X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0010\u001a\u00020\u0011X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\f\u001a\u00020\rX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\b\u001a\u00020\tX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\n\u001a\u00020\u000bX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0016\u001a\u00020\u0017X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0006\u001a\u00020\u0007X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u000e\u001a\u00020\u000fX\u0004¢\u0006\u0002\n\u0000¨\u00065"}, d2 = {"Lcom/soundcloud/android/collection/CollectionOperations;", "", "eventBus", "Lcom/soundcloud/rx/eventbus/EventBus;", "collectionSyncer", "Lcom/soundcloud/android/collection/CollectionSyncer;", "stationsRepository", "Lcom/soundcloud/android/foundation/domain/stations/StationsRepository;", "playHistoryOperations", "Lcom/soundcloud/android/collection/playhistory/PlayHistoryOperations;", "recentlyPlayedOperations", "Lcom/soundcloud/android/collection/recentlyplayed/RecentlyPlayedOperations;", "myPlaylistsOperations", "Lcom/soundcloud/android/collection/playlists/MyPlaylistsUniflowOperations;", "trackRepository", "Lcom/soundcloud/android/foundation/domain/tracks/TrackRepository;", "likesStateProvider", "Lcom/soundcloud/android/likes/LikesStateProvider;", "likesReadStorage", "Lcom/soundcloud/android/collections/data/LikesReadStorage;", "collectionOptionsStorage", "Lcom/soundcloud/android/collection/CollectionOptionsStorage;", "scheduler", "Lio/reactivex/Scheduler;", "(Lcom/soundcloud/rx/eventbus/EventBus;Lcom/soundcloud/android/collection/CollectionSyncer;Lcom/soundcloud/android/foundation/domain/stations/StationsRepository;Lcom/soundcloud/android/collection/playhistory/PlayHistoryOperations;Lcom/soundcloud/android/collection/recentlyplayed/RecentlyPlayedOperations;Lcom/soundcloud/android/collection/playlists/MyPlaylistsUniflowOperations;Lcom/soundcloud/android/foundation/domain/tracks/TrackRepository;Lcom/soundcloud/android/likes/LikesStateProvider;Lcom/soundcloud/android/collections/data/LikesReadStorage;Lcom/soundcloud/android/collection/CollectionOptionsStorage;Lio/reactivex/Scheduler;)V", "collections", "Lio/reactivex/Observable;", "Lcom/soundcloud/android/collection/CollectionDomainModel;", "likedTracks", "", "Lcom/soundcloud/android/collection/LikedTrackPreview;", "syncFunction", "Lio/reactivex/Single;", "Lcom/soundcloud/android/sync/SyncResult;", "loadStations", "Lcom/soundcloud/android/foundation/domain/stations/StationRecord;", "loadLikedStations", "Lkotlin/Function0;", "playHistoryItems", "Lcom/soundcloud/android/tracks/TrackItem;", "loadPlayHistory", "recentlyPlayed", "Lcom/soundcloud/android/collection/recentlyplayed/RecentlyPlayedPlayableItem;", "loadRecentlyPlayed", "toTrackLikesPreviews", "updatedCollection", "startWithSignal", "", "E", "toLikedTrackPreview", "kotlin.jvm.PlatformType", "Lcom/soundcloud/android/foundation/domain/tracks/Track;", "Companion", "base_release"}, mv = {1, 1, 15})
/* compiled from: CollectionOperations.kt */
public class H {
    public static final a a = new a(null);
    private final C5327TLa b;
    private final Aa c;
    /* access modifiers changed from: private */
    public final Vda d;
    /* access modifiers changed from: private */
    public final Z e;
    /* access modifiers changed from: private */
    public final J f;
    /* access modifiers changed from: private */
    public final C2287SS g;
    /* access modifiers changed from: private */
    public final C3760eea h;
    /* access modifiers changed from: private */
    public final C3989m i;
    private final K j;
    private final C2746fa k;
    private final HPa l;

    /* compiled from: CollectionOperations.kt */
    public static final class a {
        private a() {
        }

        public /* synthetic */ a(C7264rYa rya) {
            this();
        }
    }

    public H(C5327TLa tLa, Aa aa, Vda vda, Z z, J j2, C2287SS ss, C3760eea eea, C3989m mVar, K k2, C2746fa faVar, HPa hPa) {
        C7471uYa.b(tLa, "eventBus");
        C7471uYa.b(aa, "collectionSyncer");
        C7471uYa.b(vda, "stationsRepository");
        C7471uYa.b(z, "playHistoryOperations");
        C7471uYa.b(j2, "recentlyPlayedOperations");
        C7471uYa.b(ss, "myPlaylistsOperations");
        C7471uYa.b(eea, "trackRepository");
        C7471uYa.b(mVar, "likesStateProvider");
        C7471uYa.b(k2, "likesReadStorage");
        C7471uYa.b(faVar, "collectionOptionsStorage");
        C7471uYa.b(hPa, "scheduler");
        this.b = tLa;
        this.c = aa;
        this.d = vda;
        this.e = z;
        this.f = j2;
        this.g = ss;
        this.h = eea;
        this.i = mVar;
        this.j = k2;
        this.k = faVar;
        this.l = hPa;
    }

    public APa<C2843y> a() {
        _Ua _ua = _Ua.a;
        APa k2 = this.k.h().k(new J(this));
        C7471uYa.a((Object) k2, "collectionOptionsStorage…erations.myPlaylists(it)}");
        APa<C2843y> a2 = APa.a(k2, a(this.c.h()), a((PXa<? extends IPa<List<Sda>>>) new K<Object>(this)), b((PXa<? extends APa<List<C6185ma>>>) new L<Object>(this)), c((PXa<? extends APa<List<C2804ca>>>) new M<Object>(this)), new I());
        C7471uYa.a((Object) a2, "Observables.combineLates…tlyPlayedItems)\n        }");
        return a2;
    }

    public APa<List<Ga>> b() {
        APa<List<Ga>> d2 = this.j.c().d((C7118pQa<? super T, ? extends EPa<? extends R>>) new Y<Object,Object>(this));
        C7471uYa.a((Object) d2, "likesReadStorage.loadTra…eview() } }\n            }");
        return d2;
    }

    public APa<C2843y> c() {
        _Ua _ua = _Ua.a;
        APa k2 = this.k.h().k(new C2736aa(this));
        C7471uYa.a((Object) k2, "collectionOptionsStorage…reshAndLoadPlaylists(it)}");
        APa<C2843y> a2 = APa.a(k2, a(this.c.b()), a((PXa<? extends IPa<List<Sda>>>) new C2738ba<Object>(this)), b((PXa<? extends APa<List<C6185ma>>>) new C2740ca<Object>(this)), c((PXa<? extends APa<List<C2804ca>>>) new C2742da<Object>(this)), new Z());
        C7471uYa.a((Object) a2, "Observables.combineLates…tlyPlayedItems)\n        }");
        return a2;
    }

    private APa<List<C6185ma>> b(PXa<? extends APa<List<C6185ma>>> pXa) {
        C5327TLa tLa = this.b;
        C5443XLa<Daa> xLa = C3876taa.w;
        C7471uYa.a((Object) xLa, "PLAY_HISTORY");
        APa<List<C6185ma>> d2 = a((APa<E>) tLa.a(xLa)).k(new S(pXa)).d();
        C7471uYa.a((Object) d2, "eventBus.queue(PLAY_HIST…  .distinctUntilChanged()");
        return d2;
    }

    private APa<List<Ga>> a(IPa<ia> iPa) {
        APa<List<Ga>> d2 = iPa.d((C7118pQa<? super T, ? extends EPa<? extends R>>) new N<Object,Object>(this)).a(this.l).k(new O(this)).d();
        C7471uYa.a((Object) d2, "syncFunction\n           …  .distinctUntilChanged()");
        return d2;
    }

    private APa<List<C2804ca>> c(PXa<? extends APa<List<C2804ca>>> pXa) {
        C5327TLa tLa = this.b;
        C5443XLa<Daa> xLa = C3876taa.w;
        C7471uYa.a((Object) xLa, "PLAY_HISTORY");
        APa a2 = tLa.a(xLa).a((C7256rQa<? super T>) T.a);
        C7471uYa.a((Object) a2, "eventBus.queue(PLAY_HIST…ter { !it.urn().isTrack }");
        APa<List<C2804ca>> d2 = a(a2).k(new U(pXa)).d();
        C7471uYa.a((Object) d2, "eventBus.queue(PLAY_HIST…  .distinctUntilChanged()");
        return d2;
    }

    private APa<List<Sda>> a(PXa<? extends IPa<List<Sda>>> pXa) {
        C5327TLa tLa = this.b;
        C5443XLa<C3490aba> xLa = C3876taa.o;
        C7471uYa.a((Object) xLa, "URN_STATE_CHANGED");
        APa a2 = tLa.a(xLa).a((C7256rQa<? super T>) P.a);
        C7471uYa.a((Object) a2, "eventBus.queue(URN_STATE…IONS_COLLECTION_UPDATED }");
        APa<List<Sda>> d2 = a(a2).m(new Q(pXa)).d();
        C7471uYa.a((Object) d2, "eventBus.queue(URN_STATE…  .distinctUntilChanged()");
        return d2;
    }

    public <E> APa<RVa> a(APa<E> aPa) {
        C7471uYa.b(aPa, "$this$startWithSignal");
        APa<RVa> e2 = aPa.h(V.a).e(RVa.a);
        C7471uYa.a((Object) e2, "this.map { Unit }.startWith(Unit)");
        return e2;
    }

    public Ga a(C3509cea cea) {
        C7471uYa.b(cea, "$this$toLikedTrackPreview");
        return Ga.a(cea.y(), cea.k());
    }
}
