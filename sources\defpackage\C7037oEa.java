package defpackage;

import defpackage.C7727yEa;

@EVa(d1 = {"\u0000P\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0000\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\u0010\u0002\n\u0002\b\r\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b\u0006\b&\u0018\u0000*\b\b\u0000\u0010\u0001*\u00020\u0002*\u0004\b\u0001\u0010\u0003*\u0004\b\u0002\u0010\u0004*\u0004\b\u0003\u0010\u0005*\u0004\b\u0004\u0010\u0006*\"\b\u0005\u0010\u0007 \u0000*\u001a\u0012\u0004\u0012\u0002H\u0003\u0012\u0004\u0012\u0002H\u0004\u0012\u0004\u0012\u0002H\u0005\u0012\u0004\u0012\u0002H\u00060\b2\u00020\t:\u00016B\r\u0012\u0006\u0010\n\u001a\u00020\u000b¢\u0006\u0002\u0010\fJ\u0015\u0010#\u001a\u00020\u00192\u0006\u0010$\u001a\u00028\u0005H\u0016¢\u0006\u0002\u0010%J\u001b\u0010&\u001a\b\u0012\u0004\u0012\u00028\u00010'2\u0006\u0010(\u001a\u00028\u0000H$¢\u0006\u0002\u0010)J\u001d\u0010*\u001a\u00028\u00002\u0006\u0010+\u001a\u00028\u00002\u0006\u0010,\u001a\u00028\u0000H\u0014¢\u0006\u0002\u0010-J\b\u0010.\u001a\u00020\u0019H\u0016J\b\u0010/\u001a\u00020\u0019H\u0016J'\u00100\u001a\u0014\u0012\u0010\u0012\u000e\u0012\u0004\u0012\u00028\u0002\u0012\u0004\u0012\u00028\u0000010'2\u0006\u00102\u001a\u00028\u0003H$¢\u0006\u0002\u0010)J.\u00103\u001a\u0014\u0012\u0010\u0012\u000e\u0012\u0004\u0012\u00028\u0001\u0012\u0004\u0012\u00028\u00020\u00140'2\u0012\u00104\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00028\u00020\u0014H\u0002J'\u00105\u001a\u0014\u0012\u0010\u0012\u000e\u0012\u0004\u0012\u00028\u0002\u0012\u0004\u0012\u00028\u0000010'2\u0006\u00102\u001a\u00028\u0004H\u0014¢\u0006\u0002\u0010)R\u000e\u0010\r\u001a\u00020\u000eX\u0004¢\u0006\u0002\n\u0000R\u0011\u0010\u000f\u001a\u00020\u000e¢\u0006\b\n\u0000\u001a\u0004\b\u0010\u0010\u0011R#\u0010\u0012\u001a\u0014\u0012\u0010\u0012\u000e\u0012\u0004\u0012\u00028\u0001\u0012\u0004\u0012\u00028\u00020\u00140\u0013¢\u0006\b\n\u0000\u001a\u0004\b\u0015\u0010\u0016R\u000e\u0010\n\u001a\u00020\u000bX\u0004¢\u0006\u0002\n\u0000R\u001a\u0010\u0017\u001a\b\u0012\u0004\u0012\u00020\u00190\u0018X\u0004¢\u0006\b\n\u0000\u001a\u0004\b\u001a\u0010\u001bR\u001c\u0010\u001c\u001a\u0010\u0012\f\u0012\n \u001d*\u0004\u0018\u00010\u00190\u00190\u0018X\u0004¢\u0006\u0002\n\u0000R\u001c\u0010\u001e\u001a\u0010\u0012\f\u0012\n \u001d*\u0004\u0018\u00018\u00028\u00020\u0018X\u0004¢\u0006\u0002\n\u0000R\u001a\u0010\u001f\u001a\b\u0012\u0004\u0012\u00028\u00040\u0018X\u0004¢\u0006\b\n\u0000\u001a\u0004\b \u0010\u001bR\u001c\u0010!\u001a\u0010\u0012\f\u0012\n \u001d*\u0004\u0018\u00018\u00028\u00020\u0018X\u0004¢\u0006\u0002\n\u0000R\u001c\u0010\"\u001a\u0010\u0012\f\u0012\n \u001d*\u0004\u0018\u00018\u00038\u00030\u0018X\u0004¢\u0006\u0002\n\u0000¨\u00067"}, d2 = {"Lcom/soundcloud/android/uniflow/PagedTransformingPresenter;", "DomainModel", "", "ViewModel", "ErrorType", "InitialParams", "RefreshParams", "View", "Lcom/soundcloud/android/uniflow/UniflowBaseView;", "Lcom/soundcloud/android/uniflow/LiveAndDie;", "mainThread", "Lio/reactivex/Scheduler;", "(Lio/reactivex/Scheduler;)V", "activityLifeCycleDisposable", "Lio/reactivex/disposables/CompositeDisposable;", "compositeDisposable", "getCompositeDisposable", "()Lio/reactivex/disposables/CompositeDisposable;", "loader", "Lio/reactivex/observables/ConnectableObservable;", "Lcom/soundcloud/android/uniflow/AsyncLoaderState;", "getLoader", "()Lio/reactivex/observables/ConnectableObservable;", "nextPageSignal", "Lcom/jakewharton/rxrelay2/PublishRelay;", "", "getNextPageSignal", "()Lcom/jakewharton/rxrelay2/PublishRelay;", "onRefreshed", "kotlin.jvm.PlatformType", "refreshError", "refreshSignal", "getRefreshSignal", "requestContentError", "requestContentSignal", "attachView", "view", "(Lcom/soundcloud/android/uniflow/UniflowBaseView;)V", "buildViewModel", "Lio/reactivex/Observable;", "domainModel", "(Ljava/lang/Object;)Lio/reactivex/Observable;", "combinePages", "firstPage", "nextPage", "(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;", "destroy", "detachView", "firstPageFunc", "Lcom/soundcloud/android/uniflow/AsyncLoader$PageResult;", "pageParams", "modifyAsyncLoaderState", "asyncLoaderState", "refreshFunc", "OnRefresh", "uniflow-core"}, mv = {1, 1, 15})
/* renamed from: oEa reason: default package and case insensitive filesystem */
/* compiled from: PagedTransformingPresenter.kt */
public abstract class C7037oEa<DomainModel, ViewModel, ErrorType, InitialParams, RefreshParams, View extends C7727yEa<ViewModel, ErrorType, InitialParams, RefreshParams>> implements C6968nEa {
    private final C2332VH<InitialParams> a;
    private final C2332VH<RefreshParams> b;
    private final C2332VH<RVa> c;
    private final C2332VH<ErrorType> d;
    private final C2332VH<ErrorType> e;
    /* access modifiers changed from: private */
    public final C2332VH<RVa> f;
    private final LUa<C6832lEa<ViewModel, ErrorType>> g;
    private final UPa h = new UPa();
    private final UPa i = new UPa();
    private final HPa j;

    /* renamed from: oEa$a */
    /* compiled from: PagedTransformingPresenter.kt */
    private final class a implements C6776kQa<C6832lEa<ViewModel, ErrorType>> {
        private boolean a;

        public a() {
        }

        /* renamed from: a */
        public void accept(C6832lEa<ViewModel, ErrorType> lea) {
            C7471uYa.b(lea, "t");
            if (lea.a().e()) {
                this.a = true;
            } else if (this.a) {
                this.a = false;
                if (lea.a().b() == null) {
                    C7037oEa.this.f.accept(RVa.a);
                }
            }
        }
    }

    public C7037oEa(HPa hPa) {
        C7471uYa.b(hPa, "mainThread");
        this.j = hPa;
        C2332VH<InitialParams> s = C2332VH.s();
        C7471uYa.a((Object) s, "PublishRelay.create<InitialParams>()");
        this.a = s;
        C2332VH<RefreshParams> s2 = C2332VH.s();
        String str = "PublishRelay.create()";
        C7471uYa.a((Object) s2, str);
        this.b = s2;
        C2332VH<RVa> s3 = C2332VH.s();
        C7471uYa.a((Object) s3, str);
        this.c = s3;
        C2332VH<ErrorType> s4 = C2332VH.s();
        String str2 = "PublishRelay.create<ErrorType>()";
        C7471uYa.a((Object) s4, str2);
        this.d = s4;
        C2332VH<ErrorType> s5 = C2332VH.s();
        C7471uYa.a((Object) s5, str2);
        this.e = s5;
        C2332VH<RVa> s6 = C2332VH.s();
        C7471uYa.a((Object) s6, "PublishRelay.create<Unit>()");
        this.f = s6;
        b bVar = C5289SDa.a;
        APa d2 = this.a.d();
        C7471uYa.a((Object) d2, "requestContentSignal.distinctUntilChanged()");
        LUa<C6832lEa<ViewModel, ErrorType>> b2 = bVar.a(d2, new C7244rEa(this)).a((APa<RefreshParamsType>) this.b, (_Xa<? super RefreshParamsType, ? extends APa<d<ErrorType, PageData>>>) new C7313sEa<Object,Object>(this)).a((APa<RVa>) this.c, (C6308dYa<? super PageData, ? super PageData, ? extends PageData>) new C7382tEa<Object,Object,Object>(this)).a().d().k(new C7451uEa(this)).d().a(this.j).a((C6776kQa<? super T>) new a<Object>()).b(1);
        C7471uYa.a((Object) b2, "AsyncLoader.startWith<Do…))\n            .replay(1)");
        this.g = b2;
        UPa uPa = this.h;
        VPa s7 = this.g.s();
        C7471uYa.a((Object) s7, "loader.connect()");
        XUa.a(uPa, s7);
    }

    /* access modifiers changed from: protected */
    public abstract APa<ViewModel> a(DomainModel domainmodel);

    /* access modifiers changed from: protected */
    public DomainModel a(DomainModel domainmodel, DomainModel domainmodel2) {
        C7471uYa.b(domainmodel, "firstPage");
        C7471uYa.b(domainmodel2, "nextPage");
        return domainmodel;
    }

    /* access modifiers changed from: protected */
    public abstract APa<d<ErrorType, DomainModel>> b(InitialParams initialparams);

    public final UPa b() {
        return this.i;
    }

    public final LUa<C6832lEa<ViewModel, ErrorType>> c() {
        return this.g;
    }

    public void create() {
        defpackage.C6968nEa.a.a(this);
    }

    /* access modifiers changed from: protected */
    public final C2332VH<RVa> d() {
        return this.c;
    }

    public void destroy() {
        this.h.b();
    }

    /* access modifiers changed from: protected */
    public final C2332VH<RefreshParams> e() {
        return this.b;
    }

    /* access modifiers changed from: protected */
    public APa<d<ErrorType, DomainModel>> c(RefreshParams refreshparams) {
        APa<d<ErrorType, DomainModel>> e2 = APa.e();
        C7471uYa.a((Object) e2, "Observable.empty()");
        return e2;
    }

    public void a(View view) {
        C7471uYa.b(view, "view");
        this.i.a(this.g.f((C6776kQa<? super T>) new C7106pEa<Object>(view)), view.c().f((C6776kQa<? super T>) this.a), view.f().f((C6776kQa<? super T>) this.b), view.e().f((C6776kQa<? super T>) this.c), this.f.a(this.j).f((C6776kQa<? super T>) new C7175qEa<Object>(view)));
    }

    public void a() {
        this.i.b();
    }

    /* access modifiers changed from: private */
    public final APa<C6832lEa<ViewModel, ErrorType>> a(C6832lEa<DomainModel, ErrorType> lea) {
        Object b2 = lea.b();
        if (b2 != null) {
            APa a2 = a((DomainModel) b2);
            if (a2 != null) {
                APa<C6832lEa<ViewModel, ErrorType>> h2 = a2.h(new C7520vEa(lea));
                if (h2 != null) {
                    return h2;
                }
            }
        }
        APa<C6832lEa<ViewModel, ErrorType>> c2 = APa.c(new C6832lEa(lea.a(), null, 2, null));
        C7471uYa.a((Object) c2, "Observable.just(AsyncLoa…State.asyncLoadingState))");
        return c2;
    }
}
