package defpackage;

import com.soundcloud.android.collection.C2746fa;
import com.soundcloud.android.offline.C4197yd;
import com.soundcloud.android.sync.T;
import java.util.Collection;
import java.util.List;
import java.util.Map;

@EVa(d1 = {"\u0000À\u0001\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010 \n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u000e\n\u0000\n\u0002\u0010\u000b\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\b\n\u0000\n\u0002\u0010\u0002\n\u0002\b\u0005\b\u0016\u0018\u00002\u00020\u0001:\u0001EB\u0001\b\u0007\u0012\b\b\u0001\u0010\u0002\u001a\u00020\u0003\u0012\u0006\u0010\u0004\u001a\u00020\u0005\u0012\u0006\u0010\u0006\u001a\u00020\u0007\u0012\f\u0010\b\u001a\b\u0012\u0004\u0012\u00020\n0\t\u0012\u0006\u0010\u000b\u001a\u00020\f\u0012\u0006\u0010\r\u001a\u00020\u000e\u0012\u0006\u0010\u000f\u001a\u00020\u0010\u0012\u0006\u0010\u0011\u001a\u00020\u0012\u0012\u0006\u0010\u0013\u001a\u00020\n\u0012\u0006\u0010\u0014\u001a\u00020\u0015\u0012\u0006\u0010\u0016\u001a\u00020\u0017\u0012\u0006\u0010\u0018\u001a\u00020\u0019\u0012\u0006\u0010\u001a\u001a\u00020\u001b\u0012\u0006\u0010\u001c\u001a\u00020\u001d\u0012\u0006\u0010\u001e\u001a\u00020\u001f\u0012\u0006\u0010 \u001a\u00020!¢\u0006\u0002\u0010\"J$\u0010#\u001a\b\u0012\u0004\u0012\u00020%0$2\u0006\u0010&\u001a\u00020'2\f\u0010(\u001a\b\u0012\u0004\u0012\u00020'0)H\u0016J,\u0010*\u001a\u0010\u0012\f\b\u0001\u0012\b\u0012\u0004\u0012\u00020'0)0+2\u0006\u0010&\u001a\u00020'2\f\u0010,\u001a\b\u0012\u0004\u0012\u00020'0)H\u0012J.\u0010-\u001a\b\u0012\u0004\u0012\u00020'0$2\u0006\u0010.\u001a\u00020/2\u0006\u00100\u001a\u0002012\u0006\u00102\u001a\u0002012\u0006\u00103\u001a\u00020'H\u0016J4\u00104\u001a\b\u0012\u0004\u0012\u000206052\u0006\u0010&\u001a\u00020'2\u0006\u0010.\u001a\u00020/2\u0006\u00100\u001a\u0002012\f\u00107\u001a\b\u0012\u0004\u0012\u00020'0)H\u0016J\u001e\u00108\u001a\u0002092\u0006\u0010&\u001a\u00020'2\f\u00107\u001a\b\u0012\u0004\u0012\u00020'0)H\u0016J\u001c\u0010:\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020;0)0$2\u0006\u0010<\u001a\u00020'H\u0016J\u001c\u0010=\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020'0)0$2\u0006\u0010&\u001a\u00020'H\u0016J\u001e\u0010>\u001a\b\u0012\u0004\u0012\u00020?0$2\u0006\u0010&\u001a\u00020'2\u0006\u0010<\u001a\u00020'H\u0016J\b\u0010@\u001a\u00020AH\u0012J\u001c\u0010B\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020'0)0$2\u0006\u0010&\u001a\u00020'H\u0016J\u001c\u0010C\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020'0)0$2\u0006\u0010&\u001a\u00020'H\u0012J\u0014\u0010D\u001a\u000201*\u00020\u001b2\u0006\u0010&\u001a\u00020'H\u0012R\u000e\u0010\u000b\u001a\u00020\fX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010 \u001a\u00020!X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u000f\u001a\u00020\u0010X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0014\u001a\u00020\u0015X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0013\u001a\u00020\nX\u0004¢\u0006\u0002\n\u0000R\u0014\u0010\b\u001a\b\u0012\u0004\u0012\u00020\n0\tX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u001e\u001a\u00020\u001fX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0018\u001a\u00020\u0019X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0011\u001a\u00020\u0012X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u001a\u001a\u00020\u001bX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0006\u001a\u00020\u0007X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0016\u001a\u00020\u0017X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\r\u001a\u00020\u000eX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0002\u001a\u00020\u0003X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u001c\u001a\u00020\u001dX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0004\u001a\u00020\u0005X\u0004¢\u0006\u0002\n\u0000¨\u0006F"}, d2 = {"Lcom/soundcloud/android/playlists/PlaylistOperations;", "", "scheduler", "Lio/reactivex/Scheduler;", "syncInitiator", "Lcom/soundcloud/android/sync/SyncInitiator;", "playlistRepository", "Lcom/soundcloud/android/foundation/domain/playlists/PlaylistRepository;", "loadPlaylistTrackUrnsProvider", "Ljavax/inject/Provider;", "Lcom/soundcloud/android/playlists/LoadPlaylistTrackUrnsCommand;", "addTracksToPlaylistCommand", "Lcom/soundcloud/android/playlists/AddTracksToPlaylistCommand;", "removeTrackFromPlaylistCommand", "Lcom/soundcloud/android/playlists/RemoveTrackFromPlaylistCommand;", "editPlaylistCommand", "Lcom/soundcloud/android/playlists/EditPlaylistCommand;", "offlineContentOperations", "Lcom/soundcloud/android/offline/OfflineContentOperations;", "loadPlaylistTrackUrnsCommand", "eventBus", "Lcom/soundcloud/rx/eventbus/EventBus;", "postsStorage", "Lcom/soundcloud/android/posts/PostsStorage;", "observerFactory", "Lcom/soundcloud/android/rx/observers/ObserverFactory;", "offlinePropertiesProvider", "Lcom/soundcloud/android/foundation/domain/offline/OfflinePropertiesProvider;", "sessionProvider", "Lcom/soundcloud/android/foundation/accounts/SessionProvider;", "myPlaylistOperations", "Lcom/soundcloud/android/collection/playlists/MyPlaylistOperations;", "collectionOptionsStorage", "Lcom/soundcloud/android/collection/CollectionOptionsStorage;", "(Lio/reactivex/Scheduler;Lcom/soundcloud/android/sync/SyncInitiator;Lcom/soundcloud/android/foundation/domain/playlists/PlaylistRepository;Ljavax/inject/Provider;Lcom/soundcloud/android/playlists/AddTracksToPlaylistCommand;Lcom/soundcloud/android/playlists/RemoveTrackFromPlaylistCommand;Lcom/soundcloud/android/playlists/EditPlaylistCommand;Lcom/soundcloud/android/offline/OfflineContentOperations;Lcom/soundcloud/android/playlists/LoadPlaylistTrackUrnsCommand;Lcom/soundcloud/rx/eventbus/EventBus;Lcom/soundcloud/android/posts/PostsStorage;Lcom/soundcloud/android/rx/observers/ObserverFactory;Lcom/soundcloud/android/foundation/domain/offline/OfflinePropertiesProvider;Lcom/soundcloud/android/foundation/accounts/SessionProvider;Lcom/soundcloud/android/collection/playlists/MyPlaylistOperations;Lcom/soundcloud/android/collection/CollectionOptionsStorage;)V", "addTracksToPlaylist", "Lio/reactivex/Single;", "Lcom/soundcloud/android/playlists/AddTracksToPlaylistCommand$AddTracksToPlaylistResult;", "playlistUrn", "Lcom/soundcloud/android/foundation/domain/Urn;", "trackUrns", "", "backfilledTracks", "Lio/reactivex/SingleSource;", "urns", "createNewPlaylist", "title", "", "isPrivate", "", "isOffline", "firstTrackUrn", "editPlaylist", "Lio/reactivex/Maybe;", "Lcom/soundcloud/android/foundation/domain/playlists/Playlist;", "updatedTracklist", "editPlaylistTracks", "Lio/reactivex/Completable;", "loadPlaylistForAddingTrack", "Lcom/soundcloud/android/playlists/AddTrackToPlaylistItem$AddTrackToPlaylist;", "trackUrn", "playlistTrackUrns", "removeTrackFromPlaylist", "", "requestSystemSync", "", "trackUrnsForPlayback", "updatedUrnsForPlayback", "isPlaylistMarkedForOffline", "PlaylistMissingException", "base_release"}, mv = {1, 1, 15})
/* renamed from: Fra reason: default package and case insensitive filesystem */
/* compiled from: PlaylistOperations.kt */
public class C4909Fra {
    /* access modifiers changed from: private */
    public final HPa a;
    /* access modifiers changed from: private */
    public final T b;
    /* access modifiers changed from: private */
    public final Fda c;
    /* access modifiers changed from: private */
    public final C7054oVa<C5421Wpa> d;
    private final C5362Uoa e;
    private final C5308Ssa f;
    private final C5245Qpa g;
    /* access modifiers changed from: private */
    public final C4197yd h;
    private final C5421Wpa i;
    /* access modifiers changed from: private */
    public final C5327TLa j;
    /* access modifiers changed from: private */
    public final C4942Gta k;
    private final C5606ava l;
    /* access modifiers changed from: private */
    public final C3815lda m;
    private final Ica n;
    /* access modifiers changed from: private */
    public final C1938AS o;
    private final C2746fa p;

    /* renamed from: Fra$a */
    /* compiled from: PlaylistOperations.kt */
    public static final class a extends Exception {
    }

    public C4909Fra(HPa hPa, T t, Fda fda, C7054oVa<C5421Wpa> ova, C5362Uoa uoa, C5308Ssa ssa, C5245Qpa qpa, C4197yd ydVar, C5421Wpa wpa, C5327TLa tLa, C4942Gta gta, C5606ava ava, C3815lda lda, Ica ica, C1938AS as, C2746fa faVar) {
        HPa hPa2 = hPa;
        T t2 = t;
        Fda fda2 = fda;
        C7054oVa<C5421Wpa> ova2 = ova;
        C5362Uoa uoa2 = uoa;
        C5308Ssa ssa2 = ssa;
        C5245Qpa qpa2 = qpa;
        C4197yd ydVar2 = ydVar;
        C5421Wpa wpa2 = wpa;
        C5327TLa tLa2 = tLa;
        C4942Gta gta2 = gta;
        C5606ava ava2 = ava;
        C3815lda lda2 = lda;
        Ica ica2 = ica;
        C1938AS as2 = as;
        C7471uYa.b(hPa2, "scheduler");
        C7471uYa.b(t2, "syncInitiator");
        C7471uYa.b(fda2, "playlistRepository");
        C7471uYa.b(ova2, "loadPlaylistTrackUrnsProvider");
        C7471uYa.b(uoa2, "addTracksToPlaylistCommand");
        C7471uYa.b(ssa2, "removeTrackFromPlaylistCommand");
        C7471uYa.b(qpa2, "editPlaylistCommand");
        C7471uYa.b(ydVar2, "offlineContentOperations");
        C7471uYa.b(wpa2, "loadPlaylistTrackUrnsCommand");
        C7471uYa.b(tLa2, "eventBus");
        C7471uYa.b(gta2, "postsStorage");
        C7471uYa.b(ava2, "observerFactory");
        C7471uYa.b(lda2, "offlinePropertiesProvider");
        C7471uYa.b(ica2, "sessionProvider");
        C7471uYa.b(as2, "myPlaylistOperations");
        C2746fa faVar2 = faVar;
        C7471uYa.b(faVar2, "collectionOptionsStorage");
        this.a = hPa2;
        this.b = t2;
        this.c = fda2;
        this.d = ova2;
        this.e = uoa2;
        this.f = ssa2;
        this.g = qpa2;
        this.h = ydVar2;
        this.i = wpa2;
        this.j = tLa2;
        this.k = gta2;
        this.l = ava2;
        this.m = lda2;
        this.n = ica2;
        this.o = as;
        this.p = faVar2;
    }

    private IPa<List<C3508cda>> d(C3508cda cda) {
        IPa<List<C3508cda>> a2 = this.b.a(cda).a(this.a).a((C7118pQa<? super T, ? extends MPa<? extends R>>) new C5510Zra<Object,Object>(this, cda));
        C7471uYa.a((Object) a2, "syncInitiator.syncPlayli…).toSingle(playlistUrn) }");
        return a2;
    }

    public IPa<List<C3508cda>> b(C3508cda cda) {
        C7471uYa.b(cda, "playlistUrn");
        IPa<List<C3508cda>> b2 = this.i.c(cda).b(this.a);
        C7471uYa.a((Object) b2, "loadPlaylistTrackUrnsCom…n).subscribeOn(scheduler)");
        return b2;
    }

    public IPa<List<C3508cda>> c(C3508cda cda) {
        C7471uYa.b(cda, "playlistUrn");
        IPa<List<C3508cda>> a2 = ((C5421Wpa) this.d.get()).c(cda).b(this.a).a((C7118pQa<? super T, ? extends MPa<? extends R>>) new C5481Yra<Object,Object>(this, cda));
        C7471uYa.a((Object) a2, "loadPlaylistTrackUrnsPro…acks(playlistUrn, urns) }");
        return a2;
    }

    public C6979nPa b(C3508cda cda, List<C3508cda> list) {
        C7471uYa.b(cda, "playlistUrn");
        C7471uYa.b(list, "updatedTracklist");
        C6979nPa b2 = this.g.c(new a(cda, list)).c((C7118pQa<? super T, ? extends C7669xPa<? extends R>>) new C5277Rra<Object,Object>(this, cda)).b((C6776kQa<? super T>) new C5307Sra<Object>(this)).b((C6776kQa<? super T>) new C5336Tra<Object>(this)).d().b(this.a);
        C7471uYa.a((Object) b2, "editPlaylistCommand.toSi…  .subscribeOn(scheduler)");
        return b2;
    }

    public IPa<List<defpackage.C5333Toa.a>> a(C3508cda cda) {
        C7471uYa.b(cda, "trackUrn");
        C5573aVa ava = C5573aVa.a;
        IPa g2 = this.p.h().g().d((C7118pQa<? super T, ? extends EPa<? extends R>>) new C5394Vra<Object,Object>(this)).g();
        C7471uYa.a((Object) g2, "collectionOptionsStorage…          .firstOrError()");
        IPa a2 = IPa.a((MPa<? extends T1>) C7662xIa.a(g2, C6918mWa.a()), (MPa<? extends T2>) this.c.a((Collection<C3508cda>) C6850lWa.a(cda)), (C6504gQa<? super T1, ? super T2, ? extends R>) new C5365Ura<Object,Object,Object>(this));
        C7471uYa.a((Object) a2, "Single.zip(s1, s2, BiFun…-> zipper.invoke(t, u) })");
        IPa<List<defpackage.C5333Toa.a>> b2 = a2.b(this.a);
        C7471uYa.a((Object) b2, "Singles.zip(\n           … }.subscribeOn(scheduler)");
        return b2;
    }

    /* access modifiers changed from: private */
    public MPa<? extends List<C3508cda>> c(C3508cda cda, List<C3508cda> list) {
        if (list.isEmpty()) {
            return d(cda);
        }
        IPa a2 = IPa.a(list);
        C7471uYa.a((Object) a2, "Single.just(urns)");
        return a2;
    }

    /* access modifiers changed from: private */
    public boolean a(C3815lda lda, C3508cda cda) {
        Map b2 = lda.a().b();
        return b2.containsKey(cda) && ((C3823mda) b2.get(cda)) != C3823mda.NOT_OFFLINE;
    }

    public IPa<C3508cda> a(String str, boolean z, boolean z2, C3508cda cda) {
        C7471uYa.b(str, "title");
        C7471uYa.b(cda, "firstTrackUrn");
        C7531vPa c2 = this.n.c();
        C5157Nra nra = new C5157Nra(this, str, z, cda, z2);
        IPa<C3508cda> d2 = c2.d((C7118pQa<? super T, ? extends MPa<? extends R>>) nra);
        C7471uYa.a((Object) d2, "sessionProvider.currentU…beOn(scheduler)\n        }");
        return d2;
    }

    public IPa<b> a(C3508cda cda, List<C3508cda> list) {
        C7471uYa.b(cda, "playlistUrn");
        C7471uYa.b(list, "trackUrns");
        IPa<b> b2 = this.e.c(new defpackage.C5362Uoa.a(cda, list)).c((C6776kQa<? super T>) new C4940Gra<Object>(this, cda)).c((C6776kQa<? super T>) new C4971Hra<Object>(this)).b(this.a);
        C7471uYa.a((Object) b2, "addTracksToPlaylistComma…  .subscribeOn(scheduler)");
        return b2;
    }

    public IPa<Integer> a(C3508cda cda, C3508cda cda2) {
        C7471uYa.b(cda, "playlistUrn");
        C7471uYa.b(cda2, "trackUrn");
        IPa<Integer> b2 = this.f.c(new b(cda, cda2)).c((C6776kQa<? super T>) new C5423Wra<Object>(this, cda)).c((C6776kQa<? super T>) new C5452Xra<Object>(this)).b(this.a);
        C7471uYa.a((Object) b2, "removeTrackFromPlaylistC…  .subscribeOn(scheduler)");
        return b2;
    }

    /* access modifiers changed from: private */
    public void a() {
        this.b.a().a((C7117pPa) C5606ava.a(this.l, (PXa) null, 1, (Object) null));
    }
}
